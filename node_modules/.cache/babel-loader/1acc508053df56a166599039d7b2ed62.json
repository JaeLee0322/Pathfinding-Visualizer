{"ast":null,"code":"import { makeAutoObservable, observable, action, computed } from \"mobx\";\nimport { bfs } from \"../algorithms/bfs\";\nimport { dfs } from \"../algorithms/dfs\";\nexport class AnimationStore {\n  constructor(height, width) {\n    this.algorithm = '';\n    this.height = 0;\n    this.isPaused = false;\n    this.isRunning = false;\n    this.speedMulti = 1;\n    this.width = 0;\n    makeAutoObservable(this, {\n      algorithm: observable,\n      height: observable,\n      isPaused: observable,\n      isRunning: observable,\n      speedMulti: observable,\n      width: observable,\n      currentAlgorithm: computed,\n      getShortestPath: action,\n      setAlgorithm: action,\n      setAnimationDuration: action\n    });\n    this.speedMulti = 1;\n    this.height = height;\n    this.width = width;\n  }\n\n  get currentAlgorithm() {\n    return this.algorithm;\n  }\n\n  toggleAnimation() {\n    this.isRunning = !this.isRunning;\n  }\n\n  setAlgorithm(algorithm) {\n    this.algorithm = algorithm;\n  }\n\n  setAnimationDuration(duration) {\n    document.documentElement.style.setProperty('--animation-duration', duration + 's');\n    this.speedMulti = duration / 1.5;\n  }\n\n  setPause() {\n    document.documentElement.style.setProperty('--test', 'paused');\n  }\n\n  setPause_i() {\n    document.documentElement.style.setProperty('--test', 'running');\n  }\n\n  getShortestPath(grid) {\n    if (!this.isRunning) {\n      this.clearResults(grid);\n      this.toggleAnimation();\n      const startNode = grid.findNode(grid.startNode.y, grid.startNode.x);\n      const endNode = grid.findNode(grid.endNode.y, grid.endNode.x);\n      let visitedNodesInOrder;\n\n      switch (this.algorithm) {\n        case \"Breadth First Search\":\n          visitedNodesInOrder = bfs(grid, this.height, this.width);\n          break;\n\n        case \"Depth First Search\":\n          visitedNodesInOrder = dfs(grid, this.height, this.width);\n          break;\n\n        default:\n          // should never go here\n          break;\n      }\n\n      const nodesInShortestPathOrder = getNodesInShortestPathOrder(endNode);\n      nodesInShortestPathOrder.push('end');\n      this.animate(visitedNodesInOrder, nodesInShortestPathOrder);\n    }\n  }\n\n  animate(visitedNodesInOrder, nodesInShortestPathOrder) {\n    if (this.isPaused) {\n      setTimeout(!this.isPaused, 100);\n    } else {\n      for (let i = 0; i <= visitedNodesInOrder.length; i++) {\n        if (i === visitedNodesInOrder.length) {\n          setTimeout(() => {\n            this.animateShortestPath(nodesInShortestPathOrder);\n          }, 10 * i * this.speedMulti);\n          return;\n        }\n\n        setTimeout(() => {\n          const node = visitedNodesInOrder[i];\n          const nodeClassName = document.getElementById('node-' + node.col + '-' + node.row).className;\n\n          if (nodeClassName !== 'node-start' && nodeClassName !== 'node-end') {\n            document.getElementById('node-' + node.col + '-' + node.row).className = 'node-visited';\n          }\n        }, 10 * i * this.speedMulti);\n      }\n    }\n  }\n\n  animateShortestPath(nodesInShortestPathOrder) {\n    for (let i = 0; i < nodesInShortestPathOrder.length; i++) {\n      if (nodesInShortestPathOrder[i] === 'end') {\n        setTimeout(() => {\n          this.toggleAnimation();\n        }, i * 50 * this.speedMulti);\n      } else {\n        setTimeout(() => {\n          const node = nodesInShortestPathOrder[i];\n          const nodeClassName = document.getElementById('node-' + node.col + '-' + node.row).className;\n\n          if (nodeClassName !== 'node-start' && nodeClassName !== 'node-end') {\n            document.getElementById('node-' + node.col + '-' + node.row).className = 'node-shortest-path';\n          }\n        }, i * 40 * this.speedMulti);\n      }\n    }\n  }\n\n  clearResults(grid) {\n    grid.clearResults();\n  }\n\n}\n\nfunction getNodesInShortestPathOrder(finishNode) {\n  const nodesInShortestPathOrder = [];\n  let currentNode = finishNode;\n\n  while (currentNode !== null) {\n    nodesInShortestPathOrder.unshift(currentNode);\n    currentNode = currentNode.previousNode;\n  }\n\n  return nodesInShortestPathOrder;\n}","map":{"version":3,"names":["makeAutoObservable","observable","action","computed","bfs","dfs","AnimationStore","constructor","height","width","algorithm","isPaused","isRunning","speedMulti","currentAlgorithm","getShortestPath","setAlgorithm","setAnimationDuration","toggleAnimation","duration","document","documentElement","style","setProperty","setPause","setPause_i","grid","clearResults","startNode","findNode","y","x","endNode","visitedNodesInOrder","nodesInShortestPathOrder","getNodesInShortestPathOrder","push","animate","setTimeout","i","length","animateShortestPath","node","nodeClassName","getElementById","col","row","className","finishNode","currentNode","unshift","previousNode"],"sources":["C:/Users/jaewh/OneDrive/Desktop/Resume/pathfinder/src/stores/animationStore.jsx"],"sourcesContent":["import { makeAutoObservable, observable, action, computed } from \"mobx\"\r\nimport { bfs } from \"../algorithms/bfs\";\r\nimport { dfs } from \"../algorithms/dfs\";\r\n\r\nexport class AnimationStore {\r\n    algorithm = '';\r\n    height = 0;\r\n    isPaused = false;\r\n    isRunning = false;\r\n    speedMulti = 1;\r\n    width = 0;\r\n\r\n    constructor(height, width) {\r\n        makeAutoObservable(this, {\r\n            algorithm: observable,\r\n            height: observable,\r\n            isPaused: observable,\r\n            isRunning: observable,\r\n            speedMulti: observable,\r\n            width: observable,\r\n            currentAlgorithm: computed,\r\n            getShortestPath: action,\r\n            setAlgorithm: action,\r\n            setAnimationDuration: action,\r\n        });\r\n        this.speedMulti = 1;\r\n        this.height = height;\r\n        this.width = width;\r\n    }\r\n\r\n    get currentAlgorithm() {\r\n        return this.algorithm;\r\n    }\r\n\r\n    toggleAnimation() {\r\n        this.isRunning = !this.isRunning;\r\n    }\r\n\r\n    setAlgorithm(algorithm) {\r\n        this.algorithm = algorithm;\r\n    }\r\n\r\n    setAnimationDuration(duration) {\r\n        document.documentElement.style.setProperty('--animation-duration', duration + 's');\r\n        this.speedMulti = duration / 1.5;\r\n    }\r\n\r\n    setPause() {\r\n        document.documentElement.style.setProperty('--test', 'paused');\r\n    }\r\n\r\n    setPause_i() {\r\n        document.documentElement.style.setProperty('--test', 'running');\r\n    }\r\n\r\n    getShortestPath(grid) {\r\n        if (!this.isRunning) {\r\n            this.clearResults(grid);\r\n            this.toggleAnimation();\r\n            const startNode = grid.findNode(grid.startNode.y, grid.startNode.x);\r\n            const endNode = grid.findNode(grid.endNode.y, grid.endNode.x);\r\n            let visitedNodesInOrder;\r\n            switch (this.algorithm) {\r\n                case \"Breadth First Search\":\r\n                    visitedNodesInOrder = bfs(grid, this.height, this.width);\r\n                    break;\r\n                case \"Depth First Search\":\r\n                    visitedNodesInOrder = dfs(grid, this.height, this.width);\r\n                    break;\r\n                default:\r\n                    // should never go here\r\n                    break;\r\n            }\r\n            const nodesInShortestPathOrder = getNodesInShortestPathOrder(endNode);\r\n            nodesInShortestPathOrder.push('end');\r\n            this.animate(visitedNodesInOrder, nodesInShortestPathOrder);\r\n        }\r\n    }\r\n\r\n    animate(visitedNodesInOrder, nodesInShortestPathOrder) {\r\n        if (this.isPaused) {\r\n            setTimeout(!this.isPaused, 100);\r\n        }\r\n        else {\r\n            for (let i = 0; i <= visitedNodesInOrder.length; i++) {\r\n                if (i === visitedNodesInOrder.length) {\r\n                    setTimeout(() => {\r\n                        this.animateShortestPath(nodesInShortestPathOrder);\r\n                    }, 10 * i * this.speedMulti);\r\n                    return;\r\n                }\r\n                setTimeout(() => {\r\n                    const node = visitedNodesInOrder[i];\r\n                    const nodeClassName = document.getElementById('node-' + node.col + '-' + node.row).className;\r\n                    if (nodeClassName !== 'node-start' && nodeClassName !== 'node-end') {\r\n                        document.getElementById('node-' + node.col + '-' + node.row).className = 'node-visited';\r\n                    }\r\n                }, 10 * i * this.speedMulti);\r\n            }\r\n        }\r\n    }\r\n\r\n        animateShortestPath(nodesInShortestPathOrder) {\r\n            for (let i = 0; i < nodesInShortestPathOrder.length; i++) {\r\n                if (nodesInShortestPathOrder[i] === 'end') {\r\n                    setTimeout(() => {\r\n                        this.toggleAnimation();\r\n                    }, i * 50 * this.speedMulti);\r\n                } else {\r\n                    setTimeout(() => {\r\n                        const node = nodesInShortestPathOrder[i];\r\n                        const nodeClassName = document.getElementById('node-' + node.col + '-' + node.row).className;\r\n                        if (nodeClassName !== 'node-start' && nodeClassName !== 'node-end') {\r\n                            document.getElementById('node-' + node.col + '-' + node.row).className = 'node-shortest-path';\r\n                        }\r\n                    }, i * 40 * this.speedMulti);\r\n                }\r\n            }\r\n        }\r\n\r\n        clearResults(grid) {\r\n            grid.clearResults();\r\n        }\r\n\r\n    }\r\n\r\nfunction getNodesInShortestPathOrder(finishNode) {\r\n    const nodesInShortestPathOrder = [];\r\n    let currentNode = finishNode;\r\n    while (currentNode !== null) {\r\n        nodesInShortestPathOrder.unshift(currentNode);\r\n        currentNode = currentNode.previousNode;\r\n    }\r\n    return nodesInShortestPathOrder;\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}